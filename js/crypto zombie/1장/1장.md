# 컨트랙트

컨트랙트는 이더리움 애플리케이션의 기본적인 구성요소로, 모든 변수와 함수는 어느 한 컨트랙드테 속하게 된다.  
즉 컨트랙트는 프로젝트의 시작 지점이라고 할 수 있다.

### 1. Version Pragma

모든 솔리디티 소스 코드는 **_version pragma_** 로 시작해야 하는데, 이는 해당 코드가 이용해야 하는 솔리디티 버전을 선언하는 것이다.  
**_이를 통해 이후에 새로운 컴파일러 버전이 나와도 기존 코드가 깨지지 않도록 예방한다._**

### 2. 상태 변수 & 정수

상태변수는 컨트랙트 저장소에 영구적으로 저장된다. 즉, 이더리움 블록체인에 기록된다는 뜻이며 데이터베이스에 데이터를 쓰는 것과 동일하다고 생각하면 된다.

```
contract Example {
    //이 변수는 블록체인에 영구적으로 저장된다.
    uint myUnsignedInteger = 100;
}
```

1. 부호 없는 정수 uint
   - uint 자료형은 부호 없는 정수로, 값이 음수가 아니어야 한다는 의미이다.
   - 솔리디티에서 uint는 실제로 uint256 즉 256비트 부호 없는 정수의 다른 표현이며,  
     uint8, uint16, uint32 등과 같이 uint를 더 적은 비트로 선언도 가능하다.
2. 부호 있는 정수 int

### 3. 수학 연산

1. 덧셈: x + y
2. 뺄셈: x - y
3. 곱셈: x \* y
4. 나눗셈: x / y
5. 나머지 연산: x % y
6. 지수 연산: x \*\* y (x의 y승)

### 4. 구조체

복잡한 자료형을 필요로 할 때 솔리디티는 구조체를 제공한다.

```
struct Person {
    uint age;
    string name;
}
```

### 5. 배열

상태 변수가 블록체인에 영구적으로 저장될 수 있다는걸 기억한다면  
이처럼 구조체의 동적 배열을 생성할 시 마치 데이터베이스처럼 컨트랙트에 구조화된 데이터를 저장하는 데 유용하다는 것을 이해할 수 있다.

```
// 2개의 원소를 담을 수 있는 고정 길이의 배열
uint[2] fixedArray;

// 또다른 고정 배열로 5개의 스트링을 담을 수 있는 배열
string[5] stringArray;

//동적 배열은 고정된 크기가 없으며 계속 크기가 커질 수 있다.
uint[] dynamicArray;

//구조체의 배열
Person[] people; //동적 배열로, 원소를 계속 추가할 수 있다.
```

1. Public 배열
   - public으로 배열을 선언할 수 있다.
   - 솔리디티는 이런 배열을 위해 getter 메소드를 자동적으로 생성한다.
   - ```
        Person[] public people;
     ```
   - 다른 컨트랙트들이 이 배열을 읽을 수 있게 되지만 쓸 수는 없다. 즉 이는 컨트랙트에 공개 데이터를 저장할 때 유용한 패턴이다.
